#!/bin/bash
#
CURRENT=$(pwd)
cd $(dirname $0)
DOTFILE_DIR=$(pwd)
cd ${CURRENT}

if [ ! -f "$(dirname $0)/.bootstrapped" ]; then
	git submodule init
	git submodule update
	touch $(dirname $0)/.bootstrapped
fi

HOOK="source ${DOTFILE_DIR}/.bashrc"
if [ "" == "$(cat ~/.bashrc | grep "^${HOOK}")" ]; then
	echo ${HOOK} >> ~/.bashrc
	${DOTFILE_DIR}/scripts/mount envs/nodenv envs/vim
else
	echo "already mounted"
fi
